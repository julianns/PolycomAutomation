
if(jQuery.isLithium!==true){jQuery=LITHIUM.jQuery;}
;(function($LITH){LITHIUM.AjaxFeedback=function(feedbackSelector,hideFeedbackEvent){if(LITHIUM.AjaxFeedback.init!==true){LITHIUM.AjaxFeedback.init=true;$LITH(document).on(hideFeedbackEvent,function(){$LITH(feedbackSelector).children().hide();});}}})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.SearchForm=function(params){var form=$LITH(params.formSelector);var selectElements=form.find(params.selectSelector);var buttonElements=form.find(params.buttonSelector);var activeInput=form.find("input[type='text']").not(":hidden");var inputs=form.find(params.inputSelector);var isSearching=false;var isFormSubmit=false;var updateAutoCompleteContext=function(context){if(params.useAutoComplete===true){activeInput.autcompleteSetOptions({extraParams:{searchContext:context}});}};selectElements.change(function(){var currentOptionValue=selectElements.val();if(params.nodesModel.hasOwnProperty(currentOptionValue)){var selectedItem=params.nodesModel[currentOptionValue];buttonElements.attr("title",selectedItem.title);activeInput.hide();activeInput=form.find(selectedItem.inputSelector).val(activeInput.val()).show();updateAutoCompleteContext(currentOptionValue);};});if(params.useAutoComplete===true){updateAutoCompleteContext(selectElements.val());form.bind("autocompleteResult",function(event,row,data){window.location=data.url;});form.bind("autocompleteSearchServer",function(){isSearching=true;});form.bind("autocompleteReceiveData",function(){isSearching=false;if(isFormSubmit===true){buttonElements.click();}});form.submit(function(event){activeInput.trigger("autocompleteDisable");if(isSearching===true){event.stop();isFormSubmit=true;}
isSearching=true;});}};})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.DropDownMenu=function(params){if(LITHIUM.DropDownMenu.init!==true){LITHIUM.DropDownMenu.init=true;var menus=[];var menuOpenedDataKey="LITHIUM.DropDownMenu.opened";var menuItemsDataKey="LITHIUM.DropDownMenu.menuItems";LITHIUM.DropDownMenu.createMenu=function(event){var menu=$LITH(event.target).closest(params.menuElementSelector);var menuItems=menu.find(params.menuItemsSelector);menu.data(menuItemsDataKey,menuItems);menus.push(menu);return menu;}
LITHIUM.DropDownMenu.openMenu=function(menu){LITHIUM.DropDownMenu.closeAllMenus();menu.data(menuOpenedDataKey,true).addClass(params.menuOpenCssClass);menu.data(menuItemsDataKey).shim()
menu.trigger(params.menuOpenedEvent);}
LITHIUM.DropDownMenu.closeAllMenus=function(){$LITH.each(menus,function(){var menu=$LITH(this);if(menu.data(menuOpenedDataKey)===true){menu.data(menuOpenedDataKey,false).removeClass(params.menuOpenCssClass).data(menuItemsDataKey).shim(false);menu.trigger(params.menuClosedEvent);}});}
LITHIUM.DropDownMenu.clickCloseMenus=function(event){if(event.currentTarget===document){LITHIUM.DropDownMenu.closeAllMenus();}}
$LITH(document).on("click",params.clickElementSelector,function(event){var menu=LITHIUM.DropDownMenu.createMenu(event);if(menu.data(menuOpenedDataKey)!==true){LITHIUM.DropDownMenu.openMenu(menu);$LITH(document).bind(params.closeMenuEvent+" "+"click",LITHIUM.DropDownMenu.clickCloseMenus);}else{LITHIUM.DropDownMenu.closeAllMenus();$LITH(document).unbind(params.closeMenuEvent+" "+"click",LITHIUM.DropDownMenu.clickCloseMenus);}
return false;});$LITH(document).on(params.hoverLeaveEvent,params.clickElementSelector,LITHIUM.DropDownMenu.closeAllMenus);LITHIUM.DropDownMenu.mouseoverCloseMenus=function(event){if(event.currentTarget===document&&$LITH(event.target).closest(params.menuItemsSelector).length==0){var menu=$LITH(event.target).closest(params.menuElementSelector);if(menu.length==0||(menu.length>0&&menu.not(event.data.menu).length!=0)){LITHIUM.DropDownMenu.closeAllMenus();$LITH(document).unbind(params.closeMenuEvent+" "+"mouseover",LITHIUM.DropDownMenu.mouseoverCloseMenus);}}}
$LITH(document).on("click",params.mouseoverElementSelector,function(event){return false;});$LITH(document).on("mouseover",params.mouseoverElementSelector,function(event){var menu=LITHIUM.DropDownMenu.createMenu(event);if(menu.data(menuOpenedDataKey)!==true){LITHIUM.DropDownMenu.openMenu(menu);$LITH(document).bind(params.closeMenuEvent+" "+"mouseover",{menu:menu},LITHIUM.DropDownMenu.mouseoverCloseMenus);}
return false;});}}})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.ResizeImages=function(maxWidth,elementCssSelector,maxWidthCssClass){$LITH(elementCssSelector).each(function(){if(this.width>maxWidth){$LITH(this).attr({width:maxWidth,height:this.clientHeight*(maxWidth/this.clientWidth),"class":maxWidthCssClass});}});}})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.MessageBodyDisplay=function(containerSelector,truncatedBodySelector,viewMoreLinkSelector,fullBodySelector){$LITH(viewMoreLinkSelector).click(function(event){event.stopPropagation();event.preventDefault();$LITH(containerSelector).find(truncatedBodySelector).hide();$LITH(containerSelector).find(fullBodySelector).show();return false;});};})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.Entry=function(inputElementSelector,validationHelpElementSelector){$LITH(inputElementSelector).each(function(){var entryElement=$LITH(this);var input=entryElement.find(":input");input.data("LITHIUM.Entry.hasError",false).data("LITHIUM.Entry.changed",false).focus(function(event){window.setTimeout(function(){if(LITHIUM.Form.FIELD_FOCUSED_BY_RULE===true){LITHIUM.Form.FIELD_FOCUSED_BY_RULE=false;}else{if(!input.data("LITHIUM.Entry.hasError")){entryElement.find(validationHelpElementSelector).show();entryElement.find("."+LITHIUM.Css.BASE_FORM_ERROR_TEXT).hide();}}},200);}).click(function(){window.setTimeout(function(){entryElement.find(validationHelpElementSelector).show();entryElement.find("."+LITHIUM.Css.BASE_FORM_ERROR_TEXT).hide();},200);}).blur(function(){window.setTimeout(function(){entryElement.find(validationHelpElementSelector).hide();if(input.data("LITHIUM.Entry.changed")===false){entryElement.find("."+LITHIUM.Css.BASE_FORM_ERROR_TEXT).show();}},200);}).change(function(){input.data("LITHIUM.Entry.changed",true).data("LITHIUM.Entry.hasError",false);});if($LITH.browser.msie){input.focusout();}})}})(LITHIUM.jQuery);
;(function($LITH){if(LITHIUM.InputEditForm===undefined){var forms=[];var bindPageShowOnce=false;LITHIUM.InputEditForm=function(formId,options){var form=$LITH("#"+formId);forms.push(form);if(options.swallowEnterEvent){form.find(":input:not(:hidden,submit,textarea)").keypress(function(event){return event.which!=13});}
var formOptions=LITHIUM.jQuery.extend({useUnsavedDataWarning:false,unloadMessage:"",warnUnsavedDataActionCssClasses:[],ignoreDisableFormDuringSubmitCssClasses:[],ignoreOnChangeCssClasses:[],submitOnChange:false},options||{});var submitFormOnChange=function(event){var ignoreOnChange=false;var input=$LITH(event.target);$LITH.each(formOptions.ignoreOnChangeCssClasses,function(){if(input.hasClass(this)||input.closest("."+this).size()>0){ignoreOnChange=true;return false;}});if(ignoreOnChange===false){form.data("lastUpdated",input);form.submit();}};if(formOptions.submitOnChange==true){var isOperaMini=(navigator.userAgent.indexOf('Opera Mini')>-1);if(isOperaMini){$LITH(":input",form).change(function(event){submitFormOnChange(event);});}else{$LITH(":input",form).live("change",function(event){submitFormOnChange(event);});}
if($LITH.browser.msie){$LITH(":input",form).live("mousedown click",function(event){var input=$LITH(event.target);var inputType=input.prop("type");var ignoreOnChange=false;$LITH.each(formOptions.ignoreOnChangeCssClasses,function(){if(input.hasClass(this)||input.closest("."+this).size()>0){ignoreOnChange=true;return false;}});if(ignoreOnChange===false){if(event.type=="mousedown"){if(inputType==="radio"){input.data("alreadyChecked",$LITH(this).filter(":checked").size()>0);}else if(inputType==="select-one"){input.data("alreadyChecked",true);}}else{var alreadyChecked=input.data("alreadyChecked");if(alreadyChecked===undefined||alreadyChecked===false){input.change();}}}});}}
var disableFormDuringSubmit=true;var baseButtonCssSelector="."+LITHIUM.Css.BASE_BUTTON;var baseTabLiCssSelector="."+LITHIUM.Css.BASE_TABS_STANDARD+" li";var formActionButtons=form.find(baseButtonCssSelector,baseTabLiCssSelector);var clickElement;if(LITHIUM.useCheckOnline===true){formActionButtons.click(function(event){clickElement=$LITH(this);});}
form.submit(function(event,verifiedOnline){var action;if(formOptions.hasOwnProperty("blockUI")){$LITH.blockUI({message:formOptions.blockUI,css:{border:'none','font-size':'12px','font-family':'arial','font-weight':'bold',padding:'20px',backgroundColor:'#EAE8E6','-webkit-border-radius':'5px','-moz-border-radius':'5px','border-radius':'5px',opacity:1.0,color:'#212721'}});}
if(disableFormDuringSubmit==true){$LITH.each(formOptions.ignoreDisableFormDuringSubmitCssClasses,function(){if($LITH(event.target).hasClass(this)){disableFormDuringSubmit=false;return false;}});}
if(disableFormDuringSubmit==true){disableFormActionButtons(formActionButtons,form);}
if(LITHIUM.useCheckOnline===true){if(clickElement!==undefined){action=form.find("input[name='"+clickElement.attr("name")+"X"+"']").val();}
if(action==="Submit"&&verifiedOnline!==true&&!event.isPropagationStopped()){event.stopImmediatePropagation();event.preventDefault();form.trigger("LITHIUM:checkOnline",{offline:function(){reenableFormActionButtons(formActionButtons,form,false);},online:function(){form.trigger("submit",true);}});}}});form.bind(formOptions.enableFormEvent,function(event){if(disableFormDuringSubmit==true){reenableFormActionButtons(formActionButtons,form,event.memo.useDisableAttr||false);}
if(formOptions.hasOwnProperty("blockUI")){$LITH.unblockUI();}});if(bindPageShowOnce===false){bindPageShowOnce=true;$LITH(window).bind("pageshow",function(event){if(event.originalEvent.persisted){for(i=0;i<forms.length;i++){forms[i].trigger(formOptions.enableFormEvent);}}});}
form.bind(options.disableFormEvent,function(event){if(event.memo.form===formId&&disableFormDuringSubmit){disableFormActionButtons(formActionButtons,form,event.memo.useDisableAttr||false);}});formActionButtons.click(function(event){var clickElement=$LITH(this);$LITH.each(formOptions.ignoreDisableFormDuringSubmitCssClasses,function(){if(clickElement.hasClass(this)){disableFormDuringSubmit=false;return false;}});});if(formOptions.useUnsavedDataWarning===true){LITHIUM.FormWatch(form,formOptions.unloadMessage,formActionButtons,formOptions.warnUnsavedDataActionCssClasses,formOptions.buttonWrapperSelector,formOptions.showUnsavedDataWarningDataKey);}
var disableFormActionButtons=function(formActionButtons,form,useDisableAttr){if(form.data("validator")&&form.data("validator").numberOfInvalids()>0){return;}
$LITH(form).addClass(LITHIUM.Css.BASE_FORM_SUBMITTING);$LITH(formActionButtons).each(function(){var overlay=$LITH("<div/>").addClass(LITHIUM.Css.BASE_BUTTON_OVERLAY);var button=$LITH(this);button.addClass(LITHIUM.Css.BASE_DISABLED).after(overlay);var positionAnchor=this;if(button.hasClass(LITHIUM.Css.BASE_BUTTON)){positionAnchor=button.closest(options.buttonWrapperSelector).addClass(LITHIUM.Css.BASE_DISABLED).get(0)||this;}
overlay.clonePosition(positionAnchor);if(useDisableAttr===true){button.attr("disabled",true);}});};var reenableFormActionButtons=function(formActionButtons,form,useDisableAttr){$LITH(formActionButtons).each(function(){var button=$LITH(this);var overlay=button.siblings("div."+LITHIUM.Css.BASE_BUTTON_OVERLAY);if(overlay&&!overlay.attr("disabled")){overlay.remove();$LITH(this).removeClass(LITHIUM.Css.BASE_DISABLED);$LITH(this).closest(options.buttonWrapperSelector).removeClass(LITHIUM.Css.BASE_DISABLED);}
if(useDisableAttr===true){button.removeAttr("disabled");}});$LITH(form).removeClass(LITHIUM.Css.BASE_FORM_SUBMITTING);};form.bind(options.disableFormButtonEvent,function(event){disableFormActionButtons([event.target],form,event.memo.useDisableAttr||false);});form.bind(options.enableFormButtonEvent,function(event){reenableFormActionButtons([event.target],form,event.memo.useDisableAttr||false);});};LITHIUM.FormWatch=function(form,message,formActionButtons,warnUnsavedDataActionCssClasses,buttonWrapperSelector,showUnsavedDataWarningDataKey){var formActionIgnoresWarnUnsaved=false;var saveFieldUnloadCallbacks=[];var clickElement;formActionButtons.click(function(event){clickElement=this;});form.submit(function(event){formActionIgnoresWarnUnsaved=true;$LITH.each(warnUnsavedDataActionCssClasses,function(){if($LITH(clickElement).hasClass(this)){formActionIgnoresWarnUnsaved=false;}});});var formInputs=form.find(":input");formInputs.change(function(event){form.data(showUnsavedDataWarningDataKey,true);});if($LITH.browser.msie){formInputs.focusout();}
$LITH(window).bind("beforeunload",function(event){var showUnsavedDataWarning=form.data(showUnsavedDataWarningDataKey);if(formActionIgnoresWarnUnsaved===false&&showUnsavedDataWarning===true){form.removeClass(LITHIUM.Css.BASE_FORM_SUBMITTING);formActionButtons.each(function(){if(!$LITH(this).attr("disabled")){$LITH(this).removeClass(LITHIUM.Css.BASE_DISABLED);$LITH(this).closest(buttonWrapperSelector).removeClass(LITHIUM.Css.BASE_DISABLED);}});form.find("."+LITHIUM.Css.BASE_BUTTON_OVERLAY).remove();return message;}});};LITHIUM.InputEditForm.fieldsetToggle=function(formSelector,triggerSelector,fieldGroupSelector,triggerValue,triggerEvent){var form=$LITH(formSelector);var triggerElements=$LITH(triggerSelector);var fieldsetElement=$LITH(fieldGroupSelector);triggerElements.bind(triggerEvent,function(event){var element=$LITH(this);var inputType=element.prop("type");if(inputType=="checkbox"||inputType=="radio"){if(element.filter(":checked").val()==triggerValue){fieldsetElement.find(":input").attr("disabled",null);fieldsetElement.show();}else{fieldsetElement.hide();fieldsetElement.find(":input").attr("disabled",true);}}else{if(element.val()==triggerValue){fieldsetElement.find(":input").attr("disabled",null);fieldsetElement.show();}else{fieldsetElement.hide();fieldsetElement.find(":input").attr("disabled",true);}}});triggerElements.each(function(){var element=$LITH(this);var inputType=element.prop("type");if(inputType=="checkbox"||inputType=="radio"){if(element.filter(":checked").val()==triggerValue){fieldsetElement.find(":input").attr("disabled",null);fieldsetElement.safeShow();return false;}else{fieldsetElement.find(":input").attr("disabled",true);}}else{if(element.val()==triggerValue){fieldsetElement.find(":input").attr("disabled",null);fieldsetElement.safeShow();}else{fieldsetElement.find(":input").attr("disabled",true);}}});};}})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.AddMessageTags=function(linkToggleSelector,hiddenFormSelector){$LITH(linkToggleSelector).click(function(){$LITH(linkToggleSelector).hide();$LITH(hiddenFormSelector).show().find("input:visible:first").focus();return false;});}})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.MessageViewDisplay=function(params){var component=$LITH(params.componentSelector);var loader=$LITH(params.loaderSelector);component.bind(params.editEvent,function(){var openEditors=$LITH(params.expandedRepliesSelector).add($LITH(params.openEditsSelector));if(openEditors.exists()){if(!confirm(params.confimationText)){return;}
openEditors.trigger(params.collapseEvent);}
loader.show();component.trigger(params.renderInlineFormEvent,{componentId:params.componentId,messageId:params.messageId});});};})(LITHIUM.jQuery);
